DROP TABLE IF EXISTS produtos_categoria;
CREATE TABLE produtos_categoria (id INTEGER PRIMARY KEY AUTOINCREMENT, nome VARCHAR(50) );
DROP TABLE IF EXISTS produtos_marca;
CREATE TABLE produtos_marca (id INTEGER PRIMARY KEY AUTOINCREMENT, nome VARCHAR(50) );
DROP TABLE IF EXISTS produtos_tipo;
CREATE TABLE produtos_tipo (id INTEGER PRIMARY KEY AUTOINCREMENT, nome VARCHAR(50) );
DROP TABLE IF EXISTS produtos_vasilhame;
CREATE TABLE produtos_vasilhame (id INTEGER PRIMARY KEY AUTOINCREMENT, nome VARCHAR(50) );
DROP TABLE IF EXISTS produtos_unidade_venda;
CREATE TABLE produtos_unidade_venda (id INTEGER PRIMARY KEY AUTOINCREMENT, nome VARCHAR(10) );
DROP TABLE IF EXISTS clientes;
CREATE TABLE clientes (id INTEGER PRIMARY KEY AUTOINCREMENT, nome VARCHAR(50), codigo INTEGER, fone VARCHAR(20), celular VARCHAR(20), endereco VARCHAR(70), bairro VARCHAR(50), cidade VARCHAR(50), cnpj VARCHAR(20), inscricao_est VARCHAR(20), ativo INTEGER default 1 );
DROP TABLE IF EXISTS pedidos;
CREATE TABLE pedidos (id NOT NULL, cliente_id INTEGER, data TEXT, status VARCHAR(30), valor_adicional NUMERIC(10,2), valor_pago NUMERIC(10,2) , pago INTEGER default 0, avista INTEGER default 0, observacao varchar(80));
DROP TABLE IF EXISTS pedidos_itens;
CREATE TABLE pedidos_itens (id INTEGER PRIMARY KEY AUTOINCREMENT, pedido_id INTEGER, produto_id INTEGER, quantidade INTEGER, valor_unitario NUMERIC(10,2), valor_padrao NUMERIC(10,2), valor_total NUMERIC(10,2), valor_total_padrao NUMERIC(10,2), FOREIGN KEY(pedido_id) REFERENCES pedidos(id), FOREIGN KEY(produto_id) REFERENCES produtos(id) );
DROP TABLE IF EXISTS folhas_carga;
CREATE TABLE folhas_carga (id INTEGER PRIMARY KEY AUTOINCREMENT, data TEXT, status VARCHAR(30) );
DROP TABLE IF EXISTS folhas_carga_itens;
CREATE TABLE folhas_carga_itens (id INTEGER PRIMARY KEY AUTOINCREMENT, pedido_id INTEGER, folha_carga_id INTEGER, FOREIGN KEY(pedido_id) REFERENCES pedidos(id), FOREIGN KEY(folha_carga_id) REFERENCES folhas_carga(id) );
DROP TABLE IF EXISTS produtos_grupo_carga;
CREATE TABLE produtos_grupo_carga (id INTEGER PRIMARY KEY AUTOINCREMENT, numero INTEGER default 0, nome VARCHAR(30) );
DROP TABLE IF EXISTS versao;
CREATE TABLE versao (nr_versao INTEGER);
DROP TABLE IF EXISTS produtos_bkp;
CREATE TABLE produtos_bkp( id INT, nome_produto TEXT, categoria_id INT, vasilhame_id INT, unidade_venda_id INT, preco NUM, ativo INT, observacao TEXT );
DROP TABLE IF EXISTS produtos;
CREATE TABLE produtos (id INTEGER PRIMARY KEY AUTOINCREMENT, nome_produto VARCHAR(60), categoria_id INTEGER, vasilhame_id INTEGER, unidade_venda_id INTEGER, preco NUMERIC(10,2), ativo INTEGER, observacao VARCHAR(50), grupo_carga_id INTEGER default 0, FOREIGN KEY(categoria_id) REFERENCES produtos_categoria(id), FOREIGN KEY(vasilhame_id) REFERENCES produtos_vasilhame(id), FOREIGN KEY(unidade_venda_id) REFERENCES produtos_unidade_venda(id), FOREIGN KEY(grupo_carga_id) REFERENCES produtos_grupo_carga(id) );
